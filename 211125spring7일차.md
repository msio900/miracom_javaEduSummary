# 21.11.25. spring-7일차

## 지금까지의 복습

![](./image/1125-01.png)

* JAVA과정
  * java + oop
  * JDBC

![](./image/1125-02.png)

* J2EE

  * web
    * JVM+ WAS
    * MVC -> FC --> FM

  * DI
  * MyBatis
  * SpringMVC

### DI Container

* BeanFactory
* Application Context
* WebApplication Context

## 순서

### MyBatis 단위테스트

![](./image/1125-03-1.png)

* 이후

![](./image/1125-03-2.png)

### MyBatis의 unit Test 후

* Persistence Layer 설정
* Service Layer 설정

![](./image/1125-03-3.png)

### 화면 설계

![](./image/1125-03-4.png)

![](./image/1125-03-5.png)

### 비즈니스 로직 설명

* 2 Architecture Layer

![](./image/1125-03-6.png)

### 개발 순서

![](./image/1125-03-7.png)

## 화면 형성

![](./image/1125-04.png)

* 자동바인딩

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h2 align="center">Product Register Form.....</h2>
<form action="myProduct.do" method="post">
상품명 : <input type="text" name="name"><br><br>
제조사 : <input type="text" name="maker"><br><br>
가  격 : <input type="text" name="price"><br><br>
<input type="submit" value="상품등록">
</form>
++++++++++++++++++++++++++++++++++++++++++++++++

```
```java
package com.edu.spring.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

import com.edu.spring.domain.MyProduct;
import com.edu.spring.model.MyProductService;

@Controller
public class MyProductController {
	
	@Autowired
	private MyProductService myProductService;
	
	@RequestMapping("myProduct.do")
	public ModelAndView insert(MyProduct pvo) throws Exception{
		System.out.println("DB입력 전..."+pvo.getId());
		myProductService.addProduct(pvo); //DAO --> sqlSession --> DB에 insert
		System.out.println("DB입력 후..."+pvo.getId());
		//ServletRequset에 바인딩 되어지고 insert_result.jsp에 forward되어진다.
		return new ModelAndView("insert_result", "info", pvo);
	}
	

```
```java
<br><br>
<h3>상품명, 제조사별 검색방법을 먼저 선택하세요.</h3>
<form action="myProductSearch.do">
<select name="command">
	<option value="===아래에서 선택하세요 ==="></option>
	<option value="findByProductName">상품명으로 검색하기</option>
	<option value="findByProductMaker">제조사로 검색하기</option>
	<option value="findByProductId">상품 아이디로 검색하기</option>
</select>
<input type="text" name="word"><br><br>
<input type="submit" value="상품찾기">
</form>
</body>
</html>
```
```java
	@RequestMapping("myProductSearch.do")
	public ModelAndView search(String word, String command) throws Exception{
		ModelAndView mv = null;
		if(command.equals("findByProductName")) {
			List<MyProduct> list = myProductService.findProductByName(word);
			mv = new ModelAndView("find_result", "list", list);
		}
		
		return mv;

		}
		
	}
```
```java
```

